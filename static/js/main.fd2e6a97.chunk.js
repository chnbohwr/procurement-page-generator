(this["webpackJsonpprocurement-page-generator"]=this["webpackJsonpprocurement-page-generator"]||[]).push([[0],{239:function(n,e,t){},240:function(n,e,t){"use strict";t.r(e);var a=t(0),o=t.n(a),c=t(6),r=t.n(c),i=t(10),s=t(267),l=t(274),d=t(272),u=t(275),m=t(271),p=t(27),f=t.n(p),g=t(28),h=t.n(g),S=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.charAt(0).toUpperCase()+n.slice(1)},b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.charAt(0).toLowerCase()+n.slice(1)},v=function(n){try{return f.a.format(n,{parser:"babel",plugins:[h.a],trailingComma:"all",singleQuote:!0,printWidth:200})}catch(e){return"// \u7b49\u4f60\u8f38\u5165\u597d\u6211\u5728\u958b\u59cb\u5de5\u4f5c"}},E=function(n){return n.replace(/([a-zA-Z])(?=[A-Z])/g,"$1_").toUpperCase()},A=function(n,e){var t="fake".concat(S(n));return v("\n      const ".concat(t," = () => {\n        return (\n          ").concat(e,"\n        );\n      };\n      \n      export default {\n        ").concat(t,",\n      };\n    "))},C=function(n){var e=n.databaseName,t=n.getApiName,a=n.getApiUrl,o=n.putApiName,c=n.putApiUrl;return v("\nimport CommonUtils from '~~utils/CommonUtils';\nimport ApiService from '~~apis/ApiService';\nimport Fake".concat(S(e),"Data from '~~apis/fakeData/Fake").concat(S(e),"Data';\n\nconst debugStatus = {\n  ").concat(t,": true,\n  ").concat(o,": true,\n};\n\n\nconst ").concat(S(e),"Resource = {\n\n  ").concat(t,": () => {\n    if (debugStatus.").concat(t,") {\n      console.log('::::: API ").concat(t," :::::');\n      return CommonUtils.fakeApiHelper(1000, 'success', Fake").concat(S(e),"Data.fake").concat(S(t),"());\n    }\n    return ApiService.get('").concat(a,"');\n  },\n\n  ").concat(o,": (data) => {\n    if (debugStatus.").concat(o,") {\n      console.log('::::: API ").concat(o," :::::', data);\n      return CommonUtils.fakeApiHelper(1000, 'success', 'UPDATE SUCCESS');\n    }\n    return ApiService.put('").concat(c,"', { data });\n  },\n};\n\nexport default ").concat(S(e),"Resource;\n"))},_=function(n){var e=n.databaseName,t=n.getApiName,a=n.putApiName,o=n.containerName;return v("\n  \n  import { handleActions } from 'redux-actions';\nimport {\n  Observable, Subject, pipe, of, from, interval, merge, fromEvent, SubscriptionLike, concat, forkJoin,\n} from 'rxjs';\nimport { ofType } from 'redux-observable';\nimport {\n  mergeMap, concatMap, tap, mapTo, map, catchError, retry, retryWhen, takeUntil, flatMap, delay,\n} from 'rxjs/operators';\nimport Resource from '~~apis/resource';\nimport * as LoadingActions from '~~redux/Loading/LoadingActions';\nimport * as NotificationSystemActions from '~~hoc/NotificationSystem/NotificationSystemActions';\n\nconst actionTypes = {\n  ".concat(E(e),"___").concat(E(t),": '").concat(E(e),"___").concat(E(t),"',\n  ").concat(E(e),"___").concat(E(t),"_SUCCESS: '").concat(E(e),"___").concat(E(t),"_SUCCESS',\n  ").concat(E(e),"___").concat(E(a),": '").concat(E(e),"___").concat(E(a),"',\n};\n\nexport const ").concat(t," = () => {\n  return {\n    type: actionTypes.").concat(E(e),"___").concat(E(t),",\n  };\n};\n\nexport const ").concat(t,"Success = (response) => {\n  return {\n    type: actionTypes.").concat(E(e),"___").concat(E(t),"_SUCCESS,\n    ...response.data\n  };\n};\n\nexport const ").concat(a," = (data) => {\n  return {\n    type: actionTypes.").concat(E(e),"___").concat(E(a),",\n    data\n  };\n};\n\nexport const ").concat(t,"Epic = (action$, state$) => {\n  return action$.pipe(\n    ofType(actionTypes.").concat(E(e),"___").concat(E(t),"),\n    mergeMap((action) => {\n      return concat(\n        of(LoadingActions.toggleLoadingStatus(true)),\n        from(Resource.").concat(S(e),"Resource.").concat(t,"())\n          .pipe(\n            mergeMap(response => {\n              return concat(\n                of(LoadingActions.toggleLoadingStatus(false)),\n                of(").concat(t,"Success(response)),\n              );\n            }),\n            catchError(error => {\n              return concat(\n                of(LoadingActions.toggleLoadingStatus(false)),\n                of(NotificationSystemActions.pushNotification({\n                  message: '\u53d6\u5f97\u5217\u8868\u6709\u8aa4\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66',\n                  level: 'error'\n                }))\n              );\n            })\n          ));\n    })\n  );\n};\n\nexport const ").concat(a,"Epic = (action$, state$) => {\n  return action$.pipe(\n    ofType(actionTypes.").concat(E(e),"___").concat(E(a),"),\n    mergeMap((action) => {\n      const { data } = action;\n      return concat(\n        of(LoadingActions.toggleLoadingStatus(true)),\n        from(Resource.").concat(S(e),"Resource.").concat(a,"(data))\n          .pipe(\n            mergeMap(response => {\n              return concat(\n                of(LoadingActions.toggleLoadingStatus(false)),\n                of(").concat(t,"()),\n                of(NotificationSystemActions.pushNotification({\n                  message: '\u66f4\u65b0\u6210\u529f',\n                  level: 'success'\n                }))\n              );\n            }),\n            catchError(error => {\n              return concat(\n                of(LoadingActions.toggleLoadingStatus(false)),\n                of(NotificationSystemActions.pushNotification({\n                  message: '\u53d6\u5f97\u5217\u8868\u6709\u8aa4\uff0c\u8acb\u7a0d\u5f8c\u518d\u8a66',\n                  level: 'error'\n                }))\n              );\n            })\n          ));\n    })\n  );\n};\n\n// material price reducer\nconst ").concat(E(e),"___").concat(E(t),"_SUCCESS = (state, payload) => {\n  return {\n    ...state,\n    ").concat(b(o),": {\n      ...state.").concat(b(o),",\n      ...payload,\n    }\n  };\n};\n\n\nconst initial").concat(S(o)," = {\n  date: {},\n  ").concat(b(o),": [],\n};\n\nconst initialState = {\n  ").concat(b(o),": initial").concat(S(o),",\n};\n\nexport const reducer = handleActions({\n  ").concat(E(e),"___").concat(E(t),"_SUCCESS,\n}, initialState);\n\nexport const epics = [\n  ").concat(t,"Epic,\n  ").concat(a,"Epic,\n];\n\n  \n  "))},I=function(n){var e=n.databaseName,t=n.containerName,a=n.getApiName,o=n.putApiName;return v("\n  import React, { Fragment, useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { compose } from 'recompose';\nimport _get from 'lodash/get';\nimport * as R from 'ramda';\nimport useCSDB from '~~features/Database/components/useCSDB';\nimport Icon, { IconName } from '~~elements/Icon';\nimport Button from '~~elements/Button';\nimport Table from '~~elements/Table';\nimport { InlineBtns, InnerContainer } from '~~features/Database/DatabaseStyles';\nimport SearchBar from '~~features/Database/components/SearchBar';\nimport * as ".concat(S(e),"Actions from '~~features/Database/ME/").concat(S(e),"/").concat(S(e),"Actions';\nimport getColumns from './ColumnSetting';\n\nconst ").concat(S(t)," = (props) => {\n  const {\n    ").concat(a,",\n    ").concat(o,",\n    date,\n    ").concat(b(t),"List,\n  } = props;\n\n  useEffect(() => {\n    ").concat(a,"();\n  }, []);\n\n  const extendsCSDBPorps = {\n    mainTable: ").concat(b(t),"List,\n    initialSortInfo: { dataIndex: 'size', sortOrder: 'ascend' },\n    initialFilterInfo: { keyword: '', dataIndex: 'size' },\n  };\n\n  const {\n    // For table\n    isEditMode,\n    setEditMode,\n    mainTableList,\n    editModeList,\n    handleTableChange,\n    handleSetEditMode,\n    handleOnEditItem,\n    differenceList,\n    // For search bar\n    keyword,\n    setKeyword,\n    handleSearch,\n    handleResetSearchBar,\n    // For checkbox\n    showArchive,\n    setShowArchive,\n    checkboxColumn,\n    // For add modal\n    isAddModalOpen,\n    setAddModal,\n  } = useCSDB(extendsCSDBPorps);\n\n  const handleSave = () => {\n    const data = {\n      nextId: _get(date, 'nextId', false),\n      items: differenceList.map(item => ({ id: item.id, next: item.next }))\n    };\n    setEditMode(false);\n    ").concat(o,'(data);\n  };\n\n  const extendsColumnPorps = {\n    ...props,\n    isEditMode,\n    date,\n    checkboxColumn,\n    handleOnEditItem,\n  };\n\n  return (\n    <InnerContainer>\n      <div className="inner-content">\n        <div className="content-header">\n          <div className="title">\n            \u9019\u908a\u4f60\u8981\u81ea\u5df1\u6539\u540d\u5b57\u5594\uff0c\u6c92\u6539\u5230\u5225\u602a\u6211\uff31\uff31\n          </div>\n        </div>\n        <div className="content-row">\n          <InlineBtns>\n            <SearchBar\n              width="28rem"\n              placeholder="\u9019\u908a\u4f60\u8981\u81ea\u5df1\u6539\u540d\u5b57\u5594\uff0c\u6c92\u6539\u5230\u5225\u602a\u6211\uff31\uff31"\n              onInputChange={setKeyword}\n              value={keyword}\n              onSearch={handleSearch}\n              onReset={handleResetSearchBar}\n              disabled={isEditMode}\n            />\n            {/* <ArchiveSwitch\n              isChecked={showArchive}\n              onChange={() => setShowArchive(!showArchive)}\n            /> */}\n          </InlineBtns>\n          {\n            isEditMode ?\n              <InlineBtns>\n                <Button\n                  color="black"\n                  border={false}\n                  round\n                  onClick={() => handleSetEditMode(false)}\n                >Cancel\n                </Button>\n                <Button\n                  color="green"\n                  border={false}\n                  round\n                  onClick={handleSave}\n                >Save\n                </Button>\n              </InlineBtns> :\n              <InlineBtns>\n                {/* \u65b0\u589e */}\n                {/* <Icon\n                  icon={IconName.BtnAddGroup}\n                  size="2rem"\n                  onClick={() => setAddModal(true)}\n                /> */}\n                {/* \u4fee\u6539 */}\n                <Icon\n                  icon={IconName.BtnEditGroup}\n                  size="2rem"\n                  onClick={() => handleSetEditMode(true)}\n                  disabled={mainTableList.length === 0 || !date.nextId}\n                />\n                {/* \u5c01\u5b58 */}\n                {/* <Icon\n                  icon={IconName.BtnArchive}\n                  size="2rem"\n                  // onClick={() => handleArchive()}\n                  // disabled={selectedIdList.length === 0}\n                /> */}\n              </InlineBtns>\n          }\n        </div>\n        <Table\n          headerColor="blue"\n          columns={getColumns(extendsColumnPorps)}\n          dataSource={isEditMode ? editModeList : mainTableList}\n          pagination={false}\n          onChange={handleTableChange}\n          scroll={{ y: 500 }}\n        />\n      </div>\n    </InnerContainer>\n  );\n};\n\n\nconst mapStateToProps = (state) => {\n  return {\n    ').concat(b(t),"List: state.").concat(b(e),".").concat(b(t),".").concat(b(t),",\n    date: state.").concat(b(e),".").concat(b(t),".date,\n  };\n};\n\nconst mapDispatchToProps = {\n  ").concat(a,": ").concat(S(e),"Actions.").concat(a,",\n  ").concat(o,": ").concat(S(e),"Actions.").concat(o,",\n};\n\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps),\n)(").concat(S(t),");\n\n  "))},N=function(){return v("\n  import React from 'react';\nimport _get from 'lodash/get';\nimport { comma } from '~~utils/Math';\nimport NumberInput from '~~features/Database/components/NumberInput';\n\n\nconst getColumns = props => {\n  const {\n    isEditMode,\n    date,\n    handleOnEditItem,\n  } = props;\n  return [\n    {\n      dataIndex: 'id',\n      title: 'ID',\n      width: '5%',\n      align: 'center',\n      render: (val, record, index) => index + 1,\n    },\n    {\n      dataIndex: 'size',\n      title: 'Size',\n      width: '40%',\n      defaultSortOrder: 'ascend',\n      sorter: !isEditMode,\n    },\n    {\n      title: _get(date, 'last', '\uff0d'),\n      dataIndex: 'last',\n      width: '15%',\n      sorter: !isEditMode && _get(date, 'lastId', false),\n      render: (val) => comma(val, 8, '\uff0d'),\n    },\n    {\n      title: _get(date, 'current', '\uff0d'),\n      dataIndex: 'current',\n      width: '15%',\n      sorter: !isEditMode && _get(date, 'currentId', false),\n      render: (val) => comma(val, 8, '\uff0d'),\n    },\n    {\n      title: _get(date, 'next', '\uff0d'),\n      dataIndex: 'next',\n      width: '15%',\n      sorter: !isEditMode && _get(date, 'nextId', false),\n      render: (val, record) => (\n        isEditMode ?\n          <NumberInput\n            value={val}\n            onChange={(value) => handleOnEditItem(value, record.id, 'next')}\n          />  :\n          comma(val, 8, '\uff0d'))\n    },\n  ];\n};\n\nexport default getColumns;\n\n  ")};var y=function(){var n=Object(a.useState)("DieCutCleanSheet"),e=Object(i.a)(n,2),t=e[0],c=e[1],r=Object(a.useState)("TypePrice"),p=Object(i.a)(r,2),f=p[0],g=p[1],h=Object(a.useState)("getTypePrice"),b=Object(i.a)(h,2),v=b[0],E=b[1],y=Object(a.useState)("/database/diecut/typePrice"),x=Object(i.a)(y,2),M=x[0],k=x[1],w=Object(a.useState)('{\r\n"date": {},\r\n "typePrice": []\r\n}'),L=Object(i.a)(w,2),T=L[0],j=L[1],B=Object(a.useState)("putTypePrice"),D=Object(i.a)(B,2),P=D[0],O=D[1],U=Object(a.useState)("/database/diecut/modify/typePrice"),R=Object(i.a)(U,2),F=R[0],z=R[1],$=S(t),G=S(f);return o.a.createElement(s.a,null,o.a.createElement("h1",null,"\bCode Generator"),o.a.createElement(l.a,null,o.a.createElement(d.a,{id:"input-database",label:"Database",value:t,onChange:function(n){return c(n.target.value)},margin:"normal"}),o.a.createElement(d.a,{id:"input-containername",label:"Container Name",value:f,onChange:function(n){return g(n.target.value)},margin:"normal"})),o.a.createElement(l.a,null,o.a.createElement(d.a,{id:"input-getapiname",label:"Get API Name",value:v,onChange:function(n){return E(n.target.value)},margin:"normal"}),o.a.createElement(d.a,{style:{width:400},id:"input-getapiurl",label:"Get API URL",value:M,onChange:function(n){return k(n.target.value)},margin:"normal"}),o.a.createElement(d.a,{id:"input-getapijson",label:"Get API JSON",value:T,onChange:function(n){return j(n.target.value)},multiline:!0,rows:5,fullWidth:!0,margin:"normal"})),o.a.createElement(l.a,null,o.a.createElement(d.a,{id:"input-putapiname",label:"PUT API Name",value:P,onChange:function(n){return O(n.target.value)},margin:"normal"}),o.a.createElement(d.a,{style:{width:400},id:"input-putapiurl",label:"PUT API URL",value:F,onChange:function(n){return z(n.target.value)},margin:"normal"})),o.a.createElement(l.a,null,o.a.createElement("h3",null,"frontEnd/src/apis/fakeData/Fake",$,"Data.js"),o.a.createElement(u.a,{language:"javascript",style:m.a},A(v,T))),o.a.createElement(l.a,null,o.a.createElement("h3",null,"frontEnd/src/apis/resource/DatabaseResources/",$,"Resource.js"),o.a.createElement(u.a,{language:"javascript",style:m.a},C({databaseName:t,getApiName:v,getApiUrl:M,putApiName:P,putApiUrl:F}))),o.a.createElement(l.a,null,o.a.createElement("h3",null,"frontEnd/src/features/Database/ME/",$,"/",$,"Redux.js"),o.a.createElement(u.a,{language:"javascript",style:m.a},_({databaseName:t,getApiName:v,putApiName:P,containerName:f}))),o.a.createElement(l.a,null,o.a.createElement("h3",null,"frontEnd/src/features/Database/ME/",$,"/",G,"/",G,".js"),o.a.createElement(u.a,{language:"javascript",style:m.a},I({databaseName:t,containerName:f,getApiName:v,putApiName:P}))),o.a.createElement(l.a,null,o.a.createElement("h3",null,"frontEnd/src/features/Database/ME/",$,"/",G,"/ColumnSetting.js"),o.a.createElement(u.a,{language:"javascript",style:m.a},N({databaseName:t,getApiName:v,containerName:f}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(239);r.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))},38:function(n,e,t){n.exports=t(240)}},[[38,1,2]]]);
//# sourceMappingURL=main.fd2e6a97.chunk.js.map